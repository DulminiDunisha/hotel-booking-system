# Room Image Functionality

This document explains the new room image functionality that has been added to the hotel booking system.

## Features Added

### 1. Database Changes
- Added `image` field to the `rooms` table
- Field stores the path to uploaded images in the `room-images` directory

### 2. Backend Changes

#### Room Model (`app/Models/Room.php`)
- Added `image` to the `$fillable` array
- Images are stored in the `storage/app/public/room-images/` directory

#### RoomController (`app/Http/Controllers/RoomController.php`)
- Updated `store()` and `update()` methods to handle image uploads
- Added image validation (jpeg, png, jpg, gif, max 2MB)
- Automatic cleanup of old images when updating
- Image deletion when room is deleted

#### RoomResource (`app/Http/Resources/RoomResource.php`)
- Added `image` field that returns the full URL to the image
- Uses `Storage::url()` to generate proper URLs

### 3. Frontend Changes

#### Admin Room Management (`resources/js/pages/Admin/RoomInventory.vue`)
- Added image upload interface in the room modal
- Image preview functionality
- Drag and drop support
- File validation (type and size)
- Image removal capability
- Updated room listing table to show image thumbnails

#### Room Listing Page (`resources/js/pages/RoomListing.vue`)
- Updated room cards to display room images
- Fallback to placeholder when no image is available
- Hover effects on images

#### Room Details Page (`resources/js/pages/RoomDetails.vue`)
- Large room image display
- Fallback to placeholder when no image is available

## How to Use

### For Administrators

1. **Adding/Editing Room Images:**
   - Go to Admin Dashboard â†’ Room Inventory
   - Click "Add New Room" or edit an existing room
   - In the room modal, you'll see an "Room Image" section
   - Click "Choose Image" or drag and drop an image file
   - Supported formats: JPEG, PNG, JPG, GIF (max 2MB)
   - Preview the image before saving
   - Click "Remove" to delete the current image

2. **Managing Images:**
   - Images are automatically stored in `storage/app/public/room-images/`
   - Old images are automatically deleted when updating
   - Images are deleted when the room is deleted

### For Users

1. **Viewing Room Images:**
   - Room images are displayed on the room listing page
   - Click on a room to see the full image on the details page
   - Images have hover effects and are responsive

## Technical Details

### File Storage
- Images are stored in `storage/app/public/room-images/`
- A symbolic link is created at `public/storage/` for web access
- File names are automatically generated by Laravel's storage system

### Image URLs
- Images are served via `/storage/room-images/filename.ext`
- The RoomResource automatically generates full URLs

### Validation
- File type: jpeg, png, jpg, gif
- File size: maximum 2MB
- Client-side and server-side validation

### Security
- Only authenticated administrators can upload images
- File type validation prevents malicious uploads
- Automatic cleanup prevents orphaned files

## Migration

To set up the image functionality:

1. Run the migration:
   ```bash
   php artisan migrate
   ```

2. Create the storage link:
   ```bash
   php artisan storage:link
   ```

3. Ensure the `storage/app/public/room-images/` directory is writable

## Future Enhancements

Potential improvements for the future:
- Multiple images per room
- Image cropping and resizing
- Image optimization
- Gallery view for room images
- Image alt text and descriptions
- Bulk image upload
